<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="author" content="Foredoomed">
  <meta name="generator" content="jekyll">
  <meta name="description" content="The homepage of Zhixingheyi">
  <link href="favicon.ico" rel="icon" type="image/x-icon" />
  <link rel="stylesheet" href="/css/highlight.css" type="text/css">
  <title></title>
</head>

<body>

<div style="width:700px">
  <h1>Ubuntu下编译安装Vim</h1>

<em>By Foredoomed on <time date="2011-06-25 14:56:00 +0800">June 25, 2011</time></em>

<h2 id="vim">编译安装最新版本Vim</h2>

<p>我们都知道在Ubuntu下如果直接在终端中用命令安装Vim，那么安装的都不是最新版本。如果要想安装最新版本只有下载最新版源代码包，然后再编译安装。</p>

<p>首先，Vim最新版源代码包可以在 <a href="http://www.vim.org/" title="官网">官网</a> 下载，下载源代码包到本地Ubuntu主机后，解压缩，进入该目录，进行配置，编译和安装：</p>

<pre><code>tar xzvf vim-7.3.tar.bz2
cd vim73
./configure --prefix=/usr/local/vim --enable-rubyinterp --enable-multibyte --enable-gui=gnome2 --enable-xim --enable-fontset --with-features=huge
make &amp;&amp; make install</code></pre>

<p>如果安装出现错误则有可能是目录的权限问题，试试下面的命令吧：</p>

<pre><code>sudo chmod 777 /usr/bin
sudo chmod 777 /usr/local/</code></pre>

<p>好了，如果不出什么意外的话，Vim应该已经安装好了，接下来就是要安装和配置插件了。首先，要在主目录里新建<strong>.vimrc</strong>文件，然后在这个文件里配置Vim。
配置可以参考<a href="https://github.com/panweizeng/env">这里</a></p>

<p>如果运行错误：  (gvim:6667): Gtk-WARNING **: Invalid input string</p>

<p>解决办法是在主目录里 CTRL+H 显示 .bashrc 文件，然后在这里文件里添加如下代码：</p>

<pre><code>export  LANG=zh_CN.UTF-8;
export  LC_CTYPE=&quot;zh_CN.UTF-8&quot;;
export  LC_NUMERIC=&quot;zh_CN.UTF-8&quot;;
export  LC_TIME=&quot;zh_CN.UTF-8&quot;;
export  LC_COLLATE=&quot;zh_CN.UTF-8&quot;;
export  LC_MONETARY=&quot;zh_CN.UTF-8&quot;;
export  LC_MESSAGES=&quot;zh_CN.UTF-8&quot;;
export  LC_PAPER=&quot;zh_CN.UTF-8&quot;;
export  LC_NAME=&quot;zh_CN.UTF-8&quot;;
export  LC_ADDRESS=&quot;zh_CN.UTF-8&quot;;
export  LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;;
export  LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;;
export  LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;;</code></pre>

<h2 id="vimruby">配置Vim对Ruby的支持</h2>

<p>我主要用Vim来写Ruby代码，所以比如代码高亮，自动补全等都是必须的:</p>

<ol>
  <li>安装Ruby也可以去<a href="http://www.ruby-lang.org/" title="官网">官网</a>上下载最新版本，然后编译安装。  </li>
  <li>设置环境变量。在 .bashrc 文件里添加如下代码：export PATH=/usr/local/ruby/bin:$PATH</li>
  <li>下载<a href="http://rubyforge.org/projects/vim-ruby/" title="vim-ruby">vim-ruby</a>插件，解压后复制道Vim安装目录里。现在开始写Ruby代码吧，然后按F5看下运行结果是不是出来了呢。</li>
</ol>

<p>最后Show一下我的Vim：</p>

<p><img src="http://farm6.static.flickr.com/5067/5868623217_70b3bcae76_z.jpg" alt="vim" title="vim" /></p>


<br><br>

<div id="disqus_thread" style="width:700px"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'zhixingheyi'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<hr>

Zhixingheyi - <a href="http://liuxuan.info">http://liuxuan.info/</a>
</div>

<script src="/javascript/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17293168-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
  var sc_project=8495631;
  var sc_invisible=1;
  var sc_security="5b0817e1";
  var scJsHost = (("https:" == document.location.protocol) ?
  "https://secure." : "http://www.");
  document.write("<sc"+"ript type='text/javascript' src='" +
  scJsHost +
  "statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript>
  <div class="statcounter"><a title="website
  statistics" href="http://statcounter.com/"
  target="_blank"><img class="statcounter"
  src="https://c.statcounter.com/8495631/0/5b0817e1/1/"
  alt="website statistics"></a></div>
</noscript>
<!-- End of StatCounter Code for Default Guide -->

</body>
</html>